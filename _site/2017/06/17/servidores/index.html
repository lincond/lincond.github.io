<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Introdução a servidores &middot; Lincon Dias
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Fundador da <a href="http://emptybits.com.br" target="_blank">EmptyBits</a>, colaborador na <a href="http://level5jr.com.br" target="_blank">Level5</a> e estudante de sistemas de informação na Universidade Federal de Goiás.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    

    <a class="sidebar-nav-item" href="/archive/v1.0.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2017. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Lincon Dias</a>
            <small>Salvando a vida do full-stack(overflow)</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Introdução a servidores</h1>
  <span class="post-date">17 Jun 2017</span>
  <blockquote>
  <p>Em informática, um servidor é um software ou computador, com sistema de computação centralizada que fornece serviços a uma rede de computadores, chamada de cliente.</p>
</blockquote>

<p><a href="https://pt.wikipedia.org/wiki/VirtualBox">Wikipedia</a></p>

<p>Nesse artigo iremos abordar o básico para a manutenção de serviços rodando em um servidor Ubuntu, mostrando desde a navegação pelos diretórios do servidor, permissões, gerenciador de serviços até configuração de hosts virtuais do <a href="https://pt.wikipedia.org/wiki/Servidor_Apache">Apache</a>.</p>

<hr />
<h2 id="preparando-a-o-ambiente">Preparando a o ambiente</h2>

<h3 id="instalando-o-virtualbox">Instalando o VirtualBox</h3>
<blockquote>
  <p>VirtualBox é um software de virtualização que visa criar ambientes para instalação de sistemas distintos. Ele permite a instalação e utilização de um sistema operacional dentro de outro, assim como seus respectivos softwares, como dois ou mais computadores independentes, mas compartilhando fisicamente o mesmo hardware.</p>
</blockquote>

<p><a href="https://pt.wikipedia.org/wiki/VirtualBox">Wikipedia</a></p>

<p>Utilizaremos o virtualbox para simular serviços rodando em um servidor, para isso baixe o versão para o seu sistema nesse <a href="https://www.virtualbox.org/wiki/Downloads">link</a> e siga os passos do programa para instalar em sua máquina.</p>

<h3 id="instalando-o-ubuntu">Instalando o Ubuntu</h3>
<p>O Ubuntu fornece uma distro focada em servidores que pode ser baixada <a href="https://www.ubuntu.com/download/server">nesse link</a>.
Depois de baixar é preciso criar uma nova máquina virtual no VBox e adicionar a imagem (.img) na controladora de disco e seguir as intruções para a instalação do sistema no disco rígido virtual.
A controlador de disco pode ser encontrada em <strong>Configurações &gt; Armazenamento &gt; Controladora: IDE</strong></p>

<hr />
<h2 id="conhecendo-um-pouco-das-ferramentas">Conhecendo um pouco das ferramentas</h2>

<h3 id="ssh-a-telinha-preta">SSH, a telinha preta</h3>
<blockquote>
  <p>Secure Shell (SSH) é um protocolo de rede criptográfico para operação de serviços de rede de forma segura sobre uma rede insegura.[1] A <strong>melhor aplicação</strong> de exemplo conhecida é para <strong>login remoto a sistemas de computadores</strong> pelos usuários.</p>
</blockquote>

<p><a href="https://pt.wikipedia.org/wiki/Secure_Shell">Wikipedia</a></p>

<p>O <strong>SSH</strong> permite o <strong>acesso remoto</strong> a shell do servidor e através dela instalamos novos serviços, atualizamos e damos manutenção na máquina. Ele é a nossa principal ferramenta.</p>

<p>Para conectar no ssh do nosso servidor podemos executar o comando</p>
<div class="highlighter-rouge"><pre class="highlight"><code>	ssh -p &lt;porta&gt; &lt;usuario&gt;@&lt;dominio&gt;
</code></pre>
</div>
<p>Exemplo,</p>
<div class="highlighter-rouge"><pre class="highlight"><code>	ssh -p 22 lincon@level5jr.com.br
</code></pre>
</div>
<p>Lembrando que <strong>não</strong> é necessario acrescentar o <strong>-p</strong> se a porta for a <strong>padrão(22)</strong>, mas como somos pessoas sensatas, não utilizamos a porta padrão por questões de segurança.</p>

<h3 id="vim-o-editor-para-hipsters">Vim, o editor para hipsters</h3>

<p>O Vim(Vi iMproved) é um <strong>editor de textos</strong> que <strong>não</strong> requer modo gráfico, perfeito para utilizar em um sessão <strong>SSH</strong>. Levando em conta que a maioria dos serviços rodando em servidores utilizam <strong>arquivos de configuração</strong>, o vim é uma importante ferramenta que é utilizada junto ao SSH para configurar e subir serviços no servidor.</p>

<p>Para abrir um arquivo com o vim utilizamos o comando ~<del>vim arquivo</del>~.</p>

<p>Os homens sem fé costumam utilizar o <strong>nano</strong>, que também é uma opção.</p>

<hr />
<h2 id="navegando-pelo-sistema">Navegando pelo sistema</h2>
<h3 id="diretórios-e-arquivos">Diretórios e arquivos</h3>

<p>Um dos comandos mais básicos que temos é o ~<del>ls</del>~, que lista todos os arquivos e diretórios do caminho atual(que pode ser checado com ~<del>pwd</del>~), porém, para visualizar os arquivos de um forma mais interessante utilizamos os argumentos <strong>-lah</strong> que lista os arquivos em uma forma de lista, além de mostar o tamanho de uma forma visível, as permissões e o dono do arquivo(algo muito importante para os serviços funcionarem de forma correta) e também os arquivos ocultos(que começam com .) Então o comando fica:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>	ls -lah
</code></pre>
</div>
<p>Para navegação dentro dos diretórios do servidor utilizamos o comando ~<del>cd nome_da_pasta</del>~, lembrando que o caminho pode ser composto, exemplo, ~<del>cd /home/lincon/public_html</del>~. Para autocompletar caminhos podemos utilizar a tecla <strong>TAB</strong> enquanto digitamos parte do nome do diretório.</p>

<h3 id="pemissões-e-donos">Pemissões e donos</h3>
<p><strong>NUNCA, NUNCA FAÇA ~<del>chmod 777 arquivo</del>~!</strong></p>

<p><img src="http://photos1.blogger.com/blogger/862/3613/1600/perm.png" alt="Permissões" /></p>

<p>As permissões criam cenários para que todos os serviços executem somente onde precisam. Se tratando de um servidor onde ele possue pastas publicas(como por exemplo pastas com arquivos de um site), as permissões impede que arquivos indesejados executem no servidor.</p>

<p>Para mudar as permissões utilizamos o comando ~<del>chmod <permissoes> <arquivo></arquivo></permissoes></del>~, e para alterar o dono ~<del>chown <usuario>.<grupo> <arquivo></arquivo></grupo></usuario></del>~</p>

<hr />
<h2 id="os-fundamentais">Os fundamentais</h2>
<h3 id="leia-a--do-manual">Leia a *$#! do manual!</h3>

<p>O linux possui um manual para quase tudo! Tá em dúvida do que um comando faz? Ou esqueceu como usar um programa? Leia o manual! Para isso é só executar ~<del>man <comando></comando></del>~ ou man ~<del>man -k <comando></comando></del>~ para buscar algum comando no manual.</p>

<h2 id="systemctl">systemctl</h2>

<p>Como quase tudo que roda no servidor são serviços, ninguém melhor para cuidar disso do que um gerenciador de serviços, lhes apresento o bom e velho: systemctl<br />
Os comandos básicos são:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>	systemctl start &lt;servico&gt;
	systemctl restart &lt;servico&gt;
	systemctl stop &lt;servico&gt;
</code></pre>
</div>

<h2 id="aptitude">aptitude</h2>

<p>Nem sempre o que precisamos já está instalado no servidor, logo precisamos fazer o trabalho sujo</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2014/01/02/introducing-lanyon/">
            Introducing Lanyon
            <small>02 Jan 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/01/01/example-content/">
            Example content
            <small>01 Jan 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2013/12/31/whats-jekyll/">
            O que é Jekyll?
            <small>31 Dec 2013</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
